<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meeting Booking App</title>
    <style>
        .slot {
            margin: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            display: inline-block;
            cursor: pointer;
        }

        .booked {
            background-color: #ffcccc;
        }

        .slot-form {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Meeting Booking App</h1>
    <div class="slots">
        <div class="slot" data-time="3:00 PM" data-available="4">3:00 PM (4 slots available)</div>
        <div class="slot" data-time="4:00 PM" data-available="5">4:00 PM (5 slots available)</div>
        <div class="slot" data-time="5:00 PM" data-available="2">5:00 PM (2 slots available)</div>
    </div>
    <div class="slot-form">
        <h2>Book a Slot</h2>
        <form id="booking-form">
            <label for="name">Name:</label>
            <input type="text" id="name" required>
            <label for="email">Email:</label>
            <input type="email" id="email" required>
            <button type="submit">Book Slot</button>
        </form>
    </div>
    <div class="bookings">
        <h2>Bookings</h2>
        <ul id="bookings-list"></ul>
    </div>

    <script>
        const slots = document.querySelectorAll('.slot');
        const slotForm = document.querySelector('.slot-form');
        const bookingForm = document.getElementById('booking-form');
        const nameInput = document.getElementById('name');
        const emailInput = document.getElementById('email');
        const bookingsList = document.getElementById('bookings-list');

        let selectedSlot = null;

        slots.forEach(slot => {
            slot.addEventListener('click', () => {
                if (!slot.classList.contains('booked')) {
                    selectedSlot = slot;
                    slotForm.style.display = 'block';
                }
            });
        });

        bookingForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = nameInput.value;
            const email = emailInput.value;
            
            if (name && email && selectedSlot) {
                const time = selectedSlot.dataset.time;
                const listItem = document.createElement('li');
                listItem.textContent = `Slot: ${time}, Name: ${name}, Email: ${email}`;
                bookingsList.appendChild(listItem);

                // Update available slots
                const available = parseInt(selectedSlot.dataset.available);
                if (available > 0) {
                    selectedSlot.dataset.available = available - 1;
                    selectedSlot.textContent = `${time} (${available - 1} slots available)`;
                } else {
                    selectedSlot.classList.add('booked');
                    selectedSlot.textContent = `${time} (Fully Booked)`;
                }

                // Reset form and selectedSlot
                bookingForm.reset();
                slotForm.style.display = 'none';
                selectedSlot = null;
            }
        });

        // Delete booking function
        function deleteBooking(slot, listItem) {
            listItem.remove();
            const time = slot.dataset.time;
            const available = parseInt(slot.dataset.available);
            slot.dataset.available = available + 1;
            slot.textContent = `${time} (${available + 1} slots available)`;
            slot.classList.remove('booked');
        }

        // Listen for clicks on the bookings list items
        bookingsList.addEventListener('click', (e) => {
            if (e.target.tagName === 'LI') {
                const listItem = e.target;
                const time = listItem.textContent.split(',')[0].split(': ')[1];
                const slot = Array.from(slots).find(s => s.dataset.time === time);

                if (slot) {
                    deleteBooking(slot, listItem);
                }
            }
        });
    </script>
</body>
</html>
